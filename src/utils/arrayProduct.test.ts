import assert from "node:assert/strict"
import test from "node:test"
import { arrayProduct } from "./arrayProduct"

test("product", () => {
  assert.deepStrictEqual(
    arrayProduct([
      [1, 2],
      [10, 20],
      [100, 200, 300],
    ]),
    [
      [1, 10, 100],
      [2, 10, 100],
      [1, 20, 100],
      [2, 20, 100],
      [1, 10, 200],
      [2, 10, 200],
      [1, 20, 200],
      [2, 20, 200],
      [1, 10, 300],
      [2, 10, 300],
      [1, 20, 300],
      [2, 20, 300],
    ],
  )
})

test("product keep element", () => {
  assert.deepStrictEqual(
    arrayProduct([
      [[1], [2]],
      [[10], [20]],
      [[100], [200], [300]],
    ]),
    [
      [[1], [10], [100]],
      [[2], [10], [100]],
      [[1], [20], [100]],
      [[2], [20], [100]],
      [[1], [10], [200]],
      [[2], [10], [200]],
      [[1], [20], [200]],
      [[2], [20], [200]],
      [[1], [10], [300]],
      [[2], [10], [300]],
      [[1], [20], [300]],
      [[2], [20], [300]],
    ],
  )
})
